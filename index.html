<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Access Mapineq inequality indicators via API • mapineqr</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Access Mapineq inequality indicators via API">
<meta name="description" content="Access Mapineq inequality indicators via API.">
<meta property="og:description" content="Access Mapineq inequality indicators via API.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">mapineqr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="mapineqr">mapineqr<a class="anchor" aria-label="anchor" href="#mapineqr"></a>
</h1></div>
<!-- README.md is generated from README.Rmd. Please edit that file -->
<p>An R package to access the data from the <a href="https://www.mapineq.org/" class="external-link uri">https://www.mapineq.org/</a> API and dashboard (product of the <a href="https://mapineq.eu/" class="external-link">Mapineq</a> proejct)</p>
</div>
<div class="section level1">
<h1 id="mapineqr-1">mapineqr<a class="anchor" aria-label="anchor" href="#mapineqr-1"></a>
</h1>
<!-- badges: start -->

<p>The goal of <a href="http://www.ekotov.pro/mapineqr/">mapineqr</a> is to access the data from the <a href="https://www.mapineq.org/data-users/" class="external-link">Mapineq.org API</a> and <a href="https://dashboard.mapineq.org/datacatalogue" class="external-link">dashboard</a> (product of the <a href="https://mapineq.eu/" class="external-link">Mapineq</a> proejct).</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of <a href="http://www.ekotov.pro/mapineqr/">mapineqr</a> from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="st"><a href="https://pak.r-lib.org/" class="external-link">"pak"</a></span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"pak"</span><span class="op">)</span></span>
<span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pak.html" class="external-link">pak</a></span><span class="op">(</span><span class="st">"e-kotov/mapineqr"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># load packages used in the examples on this page</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://www.ekotov.pro/mapineqr/">mapineqr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ropengov.github.io/eurostat/" class="external-link">eurostat</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/" class="external-link">sf</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://chris-prener.github.io/biscale/" class="external-link">biscale</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="basic-example---univariate-data-and-maps">Basic Example - univariate data and maps<a class="anchor" aria-label="anchor" href="#basic-example---univariate-data-and-maps"></a>
</h2>
<ol style="list-style-type: decimal">
<li>Get the full list of available data at NUTS 3 level:</li>
</ol>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://www.ekotov.pro/mapineqr/">mapineqr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">available_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/mi_sources.html">mi_sources</a></span><span class="op">(</span>level <span class="op">=</span> <span class="st">"3"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">available_data</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="co"># A tibble: 52 × 3</span></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a>   source_name    short_description      description                                                         </span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a>   <span class="sc">&lt;</span>chr<span class="sc">&gt;</span>          <span class="er">&lt;</span>chr<span class="sc">&gt;</span>                  <span class="er">&lt;</span>chr<span class="sc">&gt;</span>                                                               </span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a> <span class="dv">1</span> DEMO_R_D3AREA  <span class="st">"Area by NUTS 3 regio"</span> Area by NUTS <span class="dv">3</span> <span class="fu">region</span> (ESTAT)                                       </span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a> <span class="dv">2</span> PROJ_19RAASFR3 <span class="st">"Assumptions for fert"</span> Assumptions <span class="cf">for</span> fertility rates by age, type of projection and NUTS…</span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a> <span class="dv">3</span> PROJ_19RAASMR3 <span class="st">"Assumptions for prob"</span> Assumptions <span class="cf">for</span> probability of dying by age, sex, type of projectio…</span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a> <span class="dv">4</span> BD_HGNACE2_R3  <span class="st">"Business demography "</span> Business demography and high growth enterprise by NACE Rev. <span class="dv">2</span> and N…</span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a> <span class="dv">5</span> BD_SIZE_R3     <span class="st">"Business demography "</span> Business demography by size class and NUTS <span class="dv">3</span> <span class="fu">regions</span> (ESTAT)        </span>
<span id="cb4-9"><a href="#cb4-9" tabindex="-1"></a> <span class="dv">6</span> CENS_11DWOB_R3 <span class="st">"Conventional dwellin"</span> Conventional dwellings by occupancy status, type of building and NU…</span>
<span id="cb4-10"><a href="#cb4-10" tabindex="-1"></a> <span class="dv">7</span> CRIM_GEN_REG   <span class="st">"Crimes recorded by t"</span> Crimes recorded by the police by NUTS <span class="dv">3</span> <span class="fu">regions</span> (ESTAT)             </span>
<span id="cb4-11"><a href="#cb4-11" tabindex="-1"></a> <span class="dv">8</span> DEMO_R_MAGEC3  <span class="st">"Deaths by age group,"</span> Deaths by age group, sex and NUTS <span class="dv">3</span> <span class="fu">region</span> (ESTAT)                  </span>
<span id="cb4-12"><a href="#cb4-12" tabindex="-1"></a> <span class="dv">9</span> DEMO_R_MWK3_T  <span class="st">"Deaths by week and N"</span> Deaths by week and NUTS <span class="dv">3</span> <span class="fu">region</span> (ESTAT)                            </span>
<span id="cb4-13"><a href="#cb4-13" tabindex="-1"></a><span class="dv">10</span> DEMO_R_MWK3_TS <span class="st">"Deaths by week, sex "</span> Deaths by week, sex and NUTS <span class="dv">3</span> <span class="fu">region</span> (ESTAT)                       </span>
<span id="cb4-14"><a href="#cb4-14" tabindex="-1"></a><span class="co"># ℹ 42 more rows</span></span>
<span id="cb4-15"><a href="#cb4-15" tabindex="-1"></a><span class="co"># ℹ Use `print(n = ...)` to see more rows</span></span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>Select data source by <code>source_name</code> column and check it’s year and NUTS level coverage:</li>
</ol>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/mi_source_coverage.html">mi_source_coverage</a></span><span class="op">(</span><span class="st">"CRIM_GEN_REG"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="co"># A tibble: 10 × 5</span></span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a>   nuts_level year  source_name  short_description    description                                            </span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a>   <span class="sc">&lt;</span>chr<span class="sc">&gt;</span>      <span class="er">&lt;</span>chr<span class="sc">&gt;</span> <span class="er">&lt;</span>chr<span class="sc">&gt;</span>        <span class="er">&lt;</span>chr<span class="sc">&gt;</span>                <span class="er">&lt;</span>chr<span class="sc">&gt;</span>                                                  </span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a> <span class="dv">1</span> <span class="dv">0</span>          <span class="dv">2008</span>  CRIM_GEN_REG Crimes recorded by t Crimes recorded by the police by NUTS <span class="dv">3</span> <span class="fu">regions</span> (ESTAT)</span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a> <span class="dv">2</span> <span class="dv">0</span>          <span class="dv">2009</span>  CRIM_GEN_REG Crimes recorded by t Crimes recorded by the police by NUTS <span class="dv">3</span> <span class="fu">regions</span> (ESTAT)</span>
<span id="cb6-6"><a href="#cb6-6" tabindex="-1"></a> <span class="dv">3</span> <span class="dv">0</span>          <span class="dv">2010</span>  CRIM_GEN_REG Crimes recorded by t Crimes recorded by the police by NUTS <span class="dv">3</span> <span class="fu">regions</span> (ESTAT)</span>
<span id="cb6-7"><a href="#cb6-7" tabindex="-1"></a> <span class="dv">4</span> <span class="dv">1</span>          <span class="dv">2008</span>  CRIM_GEN_REG Crimes recorded by t Crimes recorded by the police by NUTS <span class="dv">3</span> <span class="fu">regions</span> (ESTAT)</span>
<span id="cb6-8"><a href="#cb6-8" tabindex="-1"></a> <span class="dv">5</span> <span class="dv">1</span>          <span class="dv">2009</span>  CRIM_GEN_REG Crimes recorded by t Crimes recorded by the police by NUTS <span class="dv">3</span> <span class="fu">regions</span> (ESTAT)</span>
<span id="cb6-9"><a href="#cb6-9" tabindex="-1"></a> <span class="dv">6</span> <span class="dv">1</span>          <span class="dv">2010</span>  CRIM_GEN_REG Crimes recorded by t Crimes recorded by the police by NUTS <span class="dv">3</span> <span class="fu">regions</span> (ESTAT)</span>
<span id="cb6-10"><a href="#cb6-10" tabindex="-1"></a> <span class="dv">7</span> <span class="dv">2</span>          <span class="dv">2008</span>  CRIM_GEN_REG Crimes recorded by t Crimes recorded by the police by NUTS <span class="dv">3</span> <span class="fu">regions</span> (ESTAT)</span>
<span id="cb6-11"><a href="#cb6-11" tabindex="-1"></a> <span class="dv">8</span> <span class="dv">2</span>          <span class="dv">2009</span>  CRIM_GEN_REG Crimes recorded by t Crimes recorded by the police by NUTS <span class="dv">3</span> <span class="fu">regions</span> (ESTAT)</span>
<span id="cb6-12"><a href="#cb6-12" tabindex="-1"></a> <span class="dv">9</span> <span class="dv">2</span>          <span class="dv">2010</span>  CRIM_GEN_REG Crimes recorded by t Crimes recorded by the police by NUTS <span class="dv">3</span> <span class="fu">regions</span> (ESTAT)</span>
<span id="cb6-13"><a href="#cb6-13" tabindex="-1"></a><span class="dv">10</span> <span class="dv">3</span>          <span class="dv">2008</span>  CRIM_GEN_REG Crimes recorded by t Crimes recorded by the police by NUTS <span class="dv">3</span> <span class="fu">regions</span> (ESTAT)</span></code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li>Check the available filters for the data source:</li>
</ol>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/mi_source_filters.html">mi_source_filters</a></span><span class="op">(</span><span class="st">"CRIM_GEN_REG"</span>, year <span class="op">=</span> <span class="fl">2010</span>, level <span class="op">=</span> <span class="st">"2"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="co"># A tibble: 6 × 4</span></span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a>  field field_label                                                           label                                    value     </span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a>  <span class="sc">&lt;</span>chr<span class="sc">&gt;</span> <span class="er">&lt;</span>chr<span class="sc">&gt;</span>                                                                 <span class="er">&lt;</span>chr<span class="sc">&gt;</span>                                    <span class="er">&lt;</span>chr<span class="sc">&gt;</span>     </span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a><span class="dv">1</span> unit  Unit of measure                                                       Number                                   NR        </span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a><span class="dv">2</span> freq  Time frequency                                                        Annual                                   A         </span>
<span id="cb8-6"><a href="#cb8-6" tabindex="-1"></a><span class="dv">3</span> iccs  International classification of crime <span class="cf">for</span> statistical <span class="fu">purposes</span> (ICCS) Intentional homicide                     ICCS0101  </span>
<span id="cb8-7"><a href="#cb8-7" tabindex="-1"></a><span class="dv">4</span> iccs  International classification of crime <span class="cf">for</span> statistical <span class="fu">purposes</span> (ICCS) Robbery                                  ICCS0401  </span>
<span id="cb8-8"><a href="#cb8-8" tabindex="-1"></a><span class="dv">5</span> iccs  International classification of crime <span class="cf">for</span> statistical <span class="fu">purposes</span> (ICCS) Burglary of private residential premises ICCS05012 </span>
<span id="cb8-9"><a href="#cb8-9" tabindex="-1"></a><span class="dv">6</span> iccs  International classification of crime <span class="cf">for</span> statistical <span class="fu">purposes</span> (ICCS) Theft of a motorized land vehicle        ICCS050211</span></code></pre></div>
<ol start="4" style="list-style-type: decimal">
<li>Choose the indicator to filter (let it be burglaries) to and get the data:</li>
</ol>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/mi_data.html">mi_data</a></span><span class="op">(</span>x_source <span class="op">=</span> <span class="st">"CRIM_GEN_REG"</span>, year <span class="op">=</span> <span class="fl">2010</span>, level <span class="op">=</span> <span class="st">"2"</span>, x_filters <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>iccs <span class="op">=</span> <span class="st">"ICCS05012"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="co"># A tibble: 6 × 4</span></span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a>  best_year geo   geo_name             x</span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a>  <span class="sc">&lt;</span>chr<span class="sc">&gt;</span>     <span class="er">&lt;</span>chr<span class="sc">&gt;</span> <span class="er">&lt;</span>chr<span class="sc">&gt;</span>            <span class="er">&lt;</span>int<span class="sc">&gt;</span></span>
<span id="cb10-4"><a href="#cb10-4" tabindex="-1"></a><span class="dv">1</span> <span class="dv">2008</span>      AT11  <span class="fu">Burgenland</span> (A)     <span class="dv">223</span></span>
<span id="cb10-5"><a href="#cb10-5" tabindex="-1"></a><span class="dv">2</span> <span class="dv">2008</span>      AT12  Niederösterreich  <span class="dv">2557</span></span>
<span id="cb10-6"><a href="#cb10-6" tabindex="-1"></a><span class="dv">3</span> <span class="dv">2008</span>      AT13  Wien              <span class="dv">9319</span></span>
<span id="cb10-7"><a href="#cb10-7" tabindex="-1"></a><span class="dv">4</span> <span class="dv">2008</span>      AT21  Kärnten            <span class="dv">507</span></span>
<span id="cb10-8"><a href="#cb10-8" tabindex="-1"></a><span class="dv">5</span> <span class="dv">2008</span>      AT22  Steiermark        <span class="dv">1163</span></span>
<span id="cb10-9"><a href="#cb10-9" tabindex="-1"></a><span class="dv">6</span> <span class="dv">2008</span>      AT31  Oberösterreich     <span class="dv">988</span></span></code></pre></div>
<ol start="5" style="list-style-type: decimal">
<li>Map the indicator using NUTS2 polygons:</li>
</ol>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ropengov.github.io/eurostat/" class="external-link">eurostat</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># load NUTS2 level polygons</span></span>
<span><span class="va">nuts2</span> <span class="op">&lt;-</span> <span class="fu">eurostat</span><span class="fu">::</span><span class="fu"><a href="https://ropengov.github.io/eurostat/reference/get_eurostat_geospatial.html" class="external-link">get_eurostat_geospatial</a></span><span class="op">(</span>nuts_level <span class="op">=</span> <span class="fl">2</span>, year <span class="op">=</span> <span class="st">"2010"</span>, crs <span class="op">=</span> <span class="st">"4326"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># join data to NUTS2 polygons</span></span>
<span><span class="va">nuts2_crime</span> <span class="op">&lt;-</span> <span class="va">nuts2</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">x</span>, by <span class="op">=</span> <span class="st">"geo"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># plot a map of burglaries</span></span>
<span><span class="va">map_burglaries</span> <span class="op">&lt;-</span> <span class="fu">ggplot</span><span class="op">(</span><span class="va">nuts2_crime</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_sf</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>fill <span class="op">=</span> <span class="va">x</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">scale_fill_viridis_c</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Number of burglaries of private residential premises in 2010"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme_minimal</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">ggsave</span><span class="op">(</span><span class="st">"man/figures/map_burglaries.png"</span>, <span class="va">map_burglaries</span>, width <span class="op">=</span> <span class="fl">8</span>, height <span class="op">=</span> <span class="fl">6</span>, dpi <span class="op">=</span> <span class="fl">200</span>, create.dir <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<div class="float">
<img src="reference/figures/map_burglaries.png" alt="Number of burglaries of private residential premises in 2010"><div class="figcaption">Number of burglaries of private residential premises in 2010</div>
</div>
</div>
<div class="section level2">
<h2 id="advanced-example---bivariate-data-and-maps">Advanced Example - bivariate data and maps<a class="anchor" aria-label="anchor" href="#advanced-example---bivariate-data-and-maps"></a>
</h2>
<ol style="list-style-type: decimal">
<li>Select two indicators.</li>
</ol>
<p>Let those be (1) unemployment rate:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/mi_source_coverage.html">mi_source_coverage</a></span><span class="op">(</span><span class="st">"TGS00010"</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html" class="external-link">desc</a></span><span class="op">(</span><span class="va">year</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb13"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="co"># A tibble: 12 × 5</span></span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a>   nuts_level year  source_name short_description    description                                </span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a>   <span class="sc">&lt;</span>chr<span class="sc">&gt;</span>      <span class="er">&lt;</span>chr<span class="sc">&gt;</span> <span class="er">&lt;</span>chr<span class="sc">&gt;</span>       <span class="er">&lt;</span>chr<span class="sc">&gt;</span>                <span class="er">&lt;</span>chr<span class="sc">&gt;</span>                                      </span>
<span id="cb13-4"><a href="#cb13-4" tabindex="-1"></a> <span class="dv">1</span> <span class="dv">2</span>          <span class="dv">2022</span>  TGS00010    Unemployment rate by Unemployment rate by NUTS <span class="dv">2</span> <span class="fu">regions</span> (ESTAT)</span>
<span id="cb13-5"><a href="#cb13-5" tabindex="-1"></a> <span class="dv">2</span> <span class="dv">2</span>          <span class="dv">2021</span>  TGS00010    Unemployment rate by Unemployment rate by NUTS <span class="dv">2</span> <span class="fu">regions</span> (ESTAT)</span>
<span id="cb13-6"><a href="#cb13-6" tabindex="-1"></a> <span class="dv">3</span> <span class="dv">2</span>          <span class="dv">2020</span>  TGS00010    Unemployment rate by Unemployment rate by NUTS <span class="dv">2</span> <span class="fu">regions</span> (ESTAT)</span>
<span id="cb13-7"><a href="#cb13-7" tabindex="-1"></a> <span class="dv">4</span> <span class="dv">2</span>          <span class="dv">2019</span>  TGS00010    Unemployment rate by Unemployment rate by NUTS <span class="dv">2</span> <span class="fu">regions</span> (ESTAT)</span>
<span id="cb13-8"><a href="#cb13-8" tabindex="-1"></a> <span class="dv">5</span> <span class="dv">2</span>          <span class="dv">2018</span>  TGS00010    Unemployment rate by Unemployment rate by NUTS <span class="dv">2</span> <span class="fu">regions</span> (ESTAT)</span>
<span id="cb13-9"><a href="#cb13-9" tabindex="-1"></a> <span class="dv">6</span> <span class="dv">2</span>          <span class="dv">2017</span>  TGS00010    Unemployment rate by Unemployment rate by NUTS <span class="dv">2</span> <span class="fu">regions</span> (ESTAT)</span>
<span id="cb13-10"><a href="#cb13-10" tabindex="-1"></a> <span class="dv">7</span> <span class="dv">2</span>          <span class="dv">2016</span>  TGS00010    Unemployment rate by Unemployment rate by NUTS <span class="dv">2</span> <span class="fu">regions</span> (ESTAT)</span>
<span id="cb13-11"><a href="#cb13-11" tabindex="-1"></a> <span class="dv">8</span> <span class="dv">2</span>          <span class="dv">2015</span>  TGS00010    Unemployment rate by Unemployment rate by NUTS <span class="dv">2</span> <span class="fu">regions</span> (ESTAT)</span>
<span id="cb13-12"><a href="#cb13-12" tabindex="-1"></a> <span class="dv">9</span> <span class="dv">2</span>          <span class="dv">2014</span>  TGS00010    Unemployment rate by Unemployment rate by NUTS <span class="dv">2</span> <span class="fu">regions</span> (ESTAT)</span>
<span id="cb13-13"><a href="#cb13-13" tabindex="-1"></a><span class="dv">10</span> <span class="dv">2</span>          <span class="dv">2013</span>  TGS00010    Unemployment rate by Unemployment rate by NUTS <span class="dv">2</span> <span class="fu">regions</span> (ESTAT)</span>
<span id="cb13-14"><a href="#cb13-14" tabindex="-1"></a><span class="dv">11</span> <span class="dv">2</span>          <span class="dv">2012</span>  TGS00010    Unemployment rate by Unemployment rate by NUTS <span class="dv">2</span> <span class="fu">regions</span> (ESTAT)</span>
<span id="cb13-15"><a href="#cb13-15" tabindex="-1"></a><span class="dv">12</span> <span class="dv">2</span>          <span class="dv">2011</span>  TGS00010    Unemployment rate by Unemployment rate by NUTS <span class="dv">2</span> <span class="fu">regions</span> (ESTAT)</span></code></pre></div>
<p>And (2) life expectancy:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/mi_source_coverage.html">mi_source_coverage</a></span><span class="op">(</span><span class="st">"DEMO_R_MLIFEXP"</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html" class="external-link">desc</a></span><span class="op">(</span><span class="va">year</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb15"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="co"># A tibble: 96 × 5</span></span>
<span id="cb15-2"><a href="#cb15-2" tabindex="-1"></a>   nuts_level year  source_name    short_description    description                                          </span>
<span id="cb15-3"><a href="#cb15-3" tabindex="-1"></a>   <span class="sc">&lt;</span>chr<span class="sc">&gt;</span>      <span class="er">&lt;</span>chr<span class="sc">&gt;</span> <span class="er">&lt;</span>chr<span class="sc">&gt;</span>          <span class="er">&lt;</span>chr<span class="sc">&gt;</span>                <span class="er">&lt;</span>chr<span class="sc">&gt;</span>                                                </span>
<span id="cb15-4"><a href="#cb15-4" tabindex="-1"></a> <span class="dv">1</span> <span class="dv">0</span>          <span class="dv">2021</span>  DEMO_R_MLIFEXP Life expectancy by a Life expectancy by age, sex and NUTS <span class="dv">2</span> <span class="fu">region</span> (ESTAT)</span>
<span id="cb15-5"><a href="#cb15-5" tabindex="-1"></a> <span class="dv">2</span> <span class="dv">1</span>          <span class="dv">2021</span>  DEMO_R_MLIFEXP Life expectancy by a Life expectancy by age, sex and NUTS <span class="dv">2</span> <span class="fu">region</span> (ESTAT)</span>
<span id="cb15-6"><a href="#cb15-6" tabindex="-1"></a> <span class="dv">3</span> <span class="dv">2</span>          <span class="dv">2021</span>  DEMO_R_MLIFEXP Life expectancy by a Life expectancy by age, sex and NUTS <span class="dv">2</span> <span class="fu">region</span> (ESTAT)</span>
<span id="cb15-7"><a href="#cb15-7" tabindex="-1"></a> <span class="dv">4</span> <span class="dv">0</span>          <span class="dv">2020</span>  DEMO_R_MLIFEXP Life expectancy by a Life expectancy by age, sex and NUTS <span class="dv">2</span> <span class="fu">region</span> (ESTAT)</span>
<span id="cb15-8"><a href="#cb15-8" tabindex="-1"></a> <span class="dv">5</span> <span class="dv">1</span>          <span class="dv">2020</span>  DEMO_R_MLIFEXP Life expectancy by a Life expectancy by age, sex and NUTS <span class="dv">2</span> <span class="fu">region</span> (ESTAT)</span>
<span id="cb15-9"><a href="#cb15-9" tabindex="-1"></a> <span class="dv">6</span> <span class="dv">2</span>          <span class="dv">2020</span>  DEMO_R_MLIFEXP Life expectancy by a Life expectancy by age, sex and NUTS <span class="dv">2</span> <span class="fu">region</span> (ESTAT)</span>
<span id="cb15-10"><a href="#cb15-10" tabindex="-1"></a> <span class="dv">7</span> <span class="dv">0</span>          <span class="dv">2019</span>  DEMO_R_MLIFEXP Life expectancy by a Life expectancy by age, sex and NUTS <span class="dv">2</span> <span class="fu">region</span> (ESTAT)</span>
<span id="cb15-11"><a href="#cb15-11" tabindex="-1"></a> <span class="dv">8</span> <span class="dv">1</span>          <span class="dv">2019</span>  DEMO_R_MLIFEXP Life expectancy by a Life expectancy by age, sex and NUTS <span class="dv">2</span> <span class="fu">region</span> (ESTAT)</span>
<span id="cb15-12"><a href="#cb15-12" tabindex="-1"></a> <span class="dv">9</span> <span class="dv">2</span>          <span class="dv">2019</span>  DEMO_R_MLIFEXP Life expectancy by a Life expectancy by age, sex and NUTS <span class="dv">2</span> <span class="fu">region</span> (ESTAT)</span>
<span id="cb15-13"><a href="#cb15-13" tabindex="-1"></a><span class="dv">10</span> <span class="dv">0</span>          <span class="dv">2018</span>  DEMO_R_MLIFEXP Life expectancy by a Life expectancy by age, sex and NUTS <span class="dv">2</span> <span class="fu">region</span> (ESTAT)</span>
<span id="cb15-14"><a href="#cb15-14" tabindex="-1"></a><span class="co"># ℹ 86 more rows</span></span>
<span id="cb15-15"><a href="#cb15-15" tabindex="-1"></a><span class="co"># ℹ Use `print(n = ...)` to see more rows</span></span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>Check for available filters:</li>
</ol>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/mi_source_filters.html">mi_source_filters</a></span><span class="op">(</span><span class="st">"TGS00010"</span>, year <span class="op">=</span> <span class="fl">2018</span>, level <span class="op">=</span> <span class="st">"2"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb17"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="co"># A tibble: 12 × 4</span></span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a>   field   field_label                                                     label                                                                      value </span>
<span id="cb17-3"><a href="#cb17-3" tabindex="-1"></a>   <span class="sc">&lt;</span>chr<span class="sc">&gt;</span>   <span class="er">&lt;</span>chr<span class="sc">&gt;</span>                                                           <span class="er">&lt;</span>chr<span class="sc">&gt;</span>                                                                      <span class="er">&lt;</span>chr<span class="sc">&gt;</span> </span>
<span id="cb17-4"><a href="#cb17-4" tabindex="-1"></a> <span class="dv">1</span> unit    Unit of measure                                                 Percentage                                                                 PC    </span>
<span id="cb17-5"><a href="#cb17-5" tabindex="-1"></a> <span class="dv">2</span> isced11 International Standard Classification of <span class="fu">Education</span> (ISCED <span class="dv">2011</span>) All ISCED <span class="dv">2011</span> levels                                                      TOTAL </span>
<span id="cb17-6"><a href="#cb17-6" tabindex="-1"></a> <span class="dv">3</span> isced11 International Standard Classification of <span class="fu">Education</span> (ISCED <span class="dv">2011</span>) Less than primary, primary and lower secondary <span class="fu">education</span> (levels <span class="dv">0-2</span>)      ED0<span class="dv">-2</span> </span>
<span id="cb17-7"><a href="#cb17-7" tabindex="-1"></a> <span class="dv">4</span> isced11 International Standard Classification of <span class="fu">Education</span> (ISCED <span class="dv">2011</span>) Upper secondary and post<span class="sc">-</span>secondary non<span class="sc">-</span>tertiary <span class="fu">education</span> (levels <span class="dv">3</span> and <span class="dv">4</span>) ED3_4 </span>
<span id="cb17-8"><a href="#cb17-8" tabindex="-1"></a> <span class="dv">5</span> isced11 International Standard Classification of <span class="fu">Education</span> (ISCED <span class="dv">2011</span>) Tertiary <span class="fu">education</span> (levels <span class="dv">5-8</span>)                                            ED5<span class="dv">-8</span> </span>
<span id="cb17-9"><a href="#cb17-9" tabindex="-1"></a> <span class="dv">6</span> isced11 International Standard Classification of <span class="fu">Education</span> (ISCED <span class="dv">2011</span>) Unknown                                                                    UNK   </span>
<span id="cb17-10"><a href="#cb17-10" tabindex="-1"></a> <span class="dv">7</span> isced11 International Standard Classification of <span class="fu">Education</span> (ISCED <span class="dv">2011</span>) No response                                                                NRP   </span>
<span id="cb17-11"><a href="#cb17-11" tabindex="-1"></a> <span class="dv">8</span> sex     Sex                                                             Total                                                                      T     </span>
<span id="cb17-12"><a href="#cb17-12" tabindex="-1"></a> <span class="dv">9</span> sex     Sex                                                             Males                                                                      M     </span>
<span id="cb17-13"><a href="#cb17-13" tabindex="-1"></a><span class="dv">10</span> sex     Sex                                                             Females                                                                    F     </span>
<span id="cb17-14"><a href="#cb17-14" tabindex="-1"></a><span class="dv">11</span> freq    Time frequency                                                  Annual                                                                     A     </span>
<span id="cb17-15"><a href="#cb17-15" tabindex="-1"></a><span class="dv">12</span> age     Age class                                                       <span class="dv">15</span> years or over                                                           Y_GE15</span></code></pre></div>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/mi_source_filters.html">mi_source_filters</a></span><span class="op">(</span><span class="st">"DEMO_R_MLIFEXP"</span>, year <span class="op">=</span> <span class="fl">2018</span>, level <span class="op">=</span> <span class="st">"2"</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span>n<span class="op">=</span><span class="fl">90</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb19"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="co"># A tibble: 91 × 4</span></span>
<span id="cb19-2"><a href="#cb19-2" tabindex="-1"></a>   field field_label     label            value</span>
<span id="cb19-3"><a href="#cb19-3" tabindex="-1"></a>   <span class="sc">&lt;</span>chr<span class="sc">&gt;</span> <span class="er">&lt;</span>chr<span class="sc">&gt;</span>           <span class="er">&lt;</span>chr<span class="sc">&gt;</span>            <span class="er">&lt;</span>chr<span class="sc">&gt;</span></span>
<span id="cb19-4"><a href="#cb19-4" tabindex="-1"></a> <span class="dv">1</span> unit  Unit of measure Year             YR   </span>
<span id="cb19-5"><a href="#cb19-5" tabindex="-1"></a> <span class="dv">2</span> sex   Sex             Total            T    </span>
<span id="cb19-6"><a href="#cb19-6" tabindex="-1"></a> <span class="dv">3</span> sex   Sex             Males            M    </span>
<span id="cb19-7"><a href="#cb19-7" tabindex="-1"></a> <span class="dv">4</span> sex   Sex             Females          F    </span>
<span id="cb19-8"><a href="#cb19-8" tabindex="-1"></a> <span class="dv">5</span> freq  Time frequency  Annual           A    </span>
<span id="cb19-9"><a href="#cb19-9" tabindex="-1"></a> <span class="dv">6</span> age   Age class       Less than <span class="dv">1</span> year Y_LT1</span>
<span id="cb19-10"><a href="#cb19-10" tabindex="-1"></a> <span class="dv">7</span> age   Age class       <span class="dv">1</span> year           Y1   </span>
<span id="cb19-11"><a href="#cb19-11" tabindex="-1"></a> <span class="dv">8</span> age   Age class       <span class="dv">2</span> years          Y2   </span>
<span id="cb19-12"><a href="#cb19-12" tabindex="-1"></a> <span class="dv">9</span> age   Age class       <span class="dv">3</span> years          Y3   </span>
<span id="cb19-13"><a href="#cb19-13" tabindex="-1"></a><span class="dv">10</span> age   Age class       <span class="dv">4</span> years          Y4   </span>
<span id="cb19-14"><a href="#cb19-14" tabindex="-1"></a><span class="dv">11</span> age   Age class       <span class="dv">5</span> years          Y5   </span>
<span id="cb19-15"><a href="#cb19-15" tabindex="-1"></a><span class="dv">12</span> age   Age class       <span class="dv">6</span> years          Y6   </span>
<span id="cb19-16"><a href="#cb19-16" tabindex="-1"></a><span class="dv">13</span> age   Age class       <span class="dv">7</span> years          Y7   </span>
<span id="cb19-17"><a href="#cb19-17" tabindex="-1"></a><span class="dv">14</span> age   Age class       <span class="dv">8</span> years          Y8   </span>
<span id="cb19-18"><a href="#cb19-18" tabindex="-1"></a><span class="dv">15</span> age   Age class       <span class="dv">9</span> years          Y9   </span>
<span id="cb19-19"><a href="#cb19-19" tabindex="-1"></a><span class="dv">16</span> age   Age class       <span class="dv">10</span> years         Y10  </span>
<span id="cb19-20"><a href="#cb19-20" tabindex="-1"></a><span class="dv">17</span> age   Age class       <span class="dv">11</span> years         Y11  </span>
<span id="cb19-21"><a href="#cb19-21" tabindex="-1"></a>...</span></code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li>Get the data for the two indicators:</li>
</ol>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">xy_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/mi_data.html">mi_data</a></span><span class="op">(</span></span>
<span>  year <span class="op">=</span> <span class="fl">2018</span>,</span>
<span>  level <span class="op">=</span> <span class="st">"2"</span>,</span>
<span>  x_source <span class="op">=</span> <span class="st">"TGS00010"</span>, x_filters <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>isced11 <span class="op">=</span> <span class="st">"TOTAL"</span>, unit <span class="op">=</span> <span class="st">"PC"</span>, age <span class="op">=</span> <span class="st">"Y_GE15"</span>, sex <span class="op">=</span> <span class="st">"T"</span>, freq <span class="op">=</span> <span class="st">"A"</span><span class="op">)</span>,</span>
<span>  y_source <span class="op">=</span> <span class="st">"DEMO_R_MLIFEXP"</span>, y_filters <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>unit <span class="op">=</span> <span class="st">"YR"</span>, age <span class="op">=</span> <span class="st">"Y_LT1"</span>, sex <span class="op">=</span> <span class="st">"T"</span>, freq <span class="op">=</span> <span class="st">"A"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<ol start="4" style="list-style-type: decimal">
<li>Plot the scratterplot:</li>
</ol>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">edu_v_life_exp_plot</span> <span class="op">&lt;-</span> <span class="fu">ggplot</span><span class="op">(</span><span class="va">xy_data</span>, <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">x</span>, y <span class="op">=</span> <span class="va">y</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_point</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Percentage of all adults aged 15 years or over with a degree"</span>, y <span class="op">=</span> <span class="st">"Life expectancy at birth"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme_minimal</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co"># ggsave("man/figures/edu_v_life_exp_plot.png", edu_v_life_exp_plot, width = 8, height = 6, units = "in", dpi = 300)</span></span></code></pre></div>
<div class="float">
<img src="figures/edu_v_life_exp_plot.png" alt="Education vs Life Expectancy"><div class="figcaption">Education vs Life Expectancy</div>
</div>
<ol start="4" style="list-style-type: decimal">
<li>Add the bivariate data to the NUTS2 polygons and create a plot:</li>
</ol>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">nuts2</span> <span class="op">&lt;-</span> <span class="fu">eurostat</span><span class="fu">::</span><span class="fu"><a href="https://ropengov.github.io/eurostat/reference/get_eurostat_geospatial.html" class="external-link">get_eurostat_geospatial</a></span><span class="op">(</span>nuts_level <span class="op">=</span> <span class="fl">2</span>, year <span class="op">=</span> <span class="st">"2016"</span>, crs <span class="op">=</span> <span class="st">"4326"</span><span class="op">)</span></span>
<span><span class="va">nuts2_edu_v_life_exp</span> <span class="op">&lt;-</span> <span class="va">nuts2</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">xy_data</span>, by <span class="op">=</span> <span class="st">"geo"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://chris-prener.github.io/biscale/" class="external-link">biscale</a></span><span class="op">)</span></span>
<span><span class="va">bidata</span> <span class="op">&lt;-</span> <span class="fu">bi_class</span><span class="op">(</span><span class="va">nuts2_edu_v_life_exp</span>, x <span class="op">=</span> <span class="va">x</span>, y <span class="op">=</span> <span class="va">y</span>, style <span class="op">=</span> <span class="st">"quantile"</span>, dim <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span></span>
<span><span class="va">legend</span> <span class="op">&lt;-</span> <span class="fu">bi_legend</span><span class="op">(</span>pal <span class="op">=</span> <span class="st">"GrPink"</span>,</span>
<span>                    dim <span class="op">=</span> <span class="fl">3</span>,</span>
<span>                    xlab <span class="op">=</span> <span class="st">"              Higher % with a degree"</span>,</span>
<span>                    ylab <span class="op">=</span> <span class="st">"              Higher life expectancy"</span>,</span>
<span>                    size <span class="op">=</span> <span class="fl">8</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">map</span> <span class="op">&lt;-</span> <span class="fu">ggplot</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_sf</span><span class="op">(</span>data <span class="op">=</span> <span class="va">bidata</span>, mapping <span class="op">=</span> <span class="fu">aes</span><span class="op">(</span>fill <span class="op">=</span> <span class="va">bi_class</span><span class="op">)</span>, color <span class="op">=</span> <span class="st">"white"</span>, size <span class="op">=</span> <span class="fl">0.1</span>, show.legend <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">bi_scale_fill</span><span class="op">(</span>pal <span class="op">=</span> <span class="st">"GrPink"</span>, dim <span class="op">=</span> <span class="fl">3</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">labs</span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"Education vs Life Expectancy"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">bi_theme</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/grDevices/png.html" class="external-link">png</a></span><span class="op">(</span><span class="st">"man/figures/edu_v_life_exp_map.png"</span>, width <span class="op">=</span> <span class="fl">8</span>, height <span class="op">=</span> <span class="fl">6</span>, units <span class="op">=</span> <span class="st">"in"</span>, res <span class="op">=</span> <span class="fl">300</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">map</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">legend</span>, vp <span class="op">=</span> <span class="fu">grid</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/grid/viewport.html" class="external-link">viewport</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">0.4</span>, y <span class="op">=</span> <span class="fl">.75</span>, width <span class="op">=</span> <span class="fl">0.2</span>, height <span class="op">=</span> <span class="fl">0.2</span>, angle <span class="op">=</span> <span class="op">-</span><span class="fl">45</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/grDevices/dev.html" class="external-link">dev.off</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="float">
<img src="reference/figures/edu_v_life_exp_map.png" alt="Education vs Life Expectancy"><div class="figcaption">Education vs Life Expectancy</div>
</div>
</div>
<div class="section level2">
<h2 id="citation">Citation<a class="anchor" aria-label="anchor" href="#citation"></a>
</h2>
<p>To cite the R package and data in publications use:</p>
<p>Kotov E (2024). <em>mapineqr. Access Mapineq inequality indicators via API</em>. <a href="doi:10.32614/CRAN.package.mapineqr" class="uri">doi:10.32614/CRAN.package.mapineqr</a> <a href="https://doi.org/10.32614/CRAN.package.mapineqr" class="external-link uri">https://doi.org/10.32614/CRAN.package.mapineqr</a>, <a href="https://github.com/e-kotov/mapineqr" class="external-link uri">https://github.com/e-kotov/mapineqr</a>.</p>
<p>Mills M, Leasure D (2024). “Mapineq Link: Geospatial Dashboard and Database.” <a href="doi:10.5281/zenodo.13864000" class="uri">doi:10.5281/zenodo.13864000</a> <a href="https://doi.org/10.5281/zenodo.13864000" class="external-link uri">https://doi.org/10.5281/zenodo.13864000</a>.</p>
<p>BibTeX:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a><span class="sc">@</span>Manual{mapineqr,</span>
<span id="cb25-2"><a href="#cb25-2" tabindex="-1"></a>  title <span class="ot">=</span> {mapineqr. Access Mapineq inequality indicators via API},</span>
<span id="cb25-3"><a href="#cb25-3" tabindex="-1"></a>  author <span class="ot">=</span> {Egor Kotov},</span>
<span id="cb25-4"><a href="#cb25-4" tabindex="-1"></a>  year <span class="ot">=</span> {<span class="dv">2024</span>},</span>
<span id="cb25-5"><a href="#cb25-5" tabindex="-1"></a>  url <span class="ot">=</span> {https<span class="sc">:</span><span class="er">//</span>github.com<span class="sc">/</span>e<span class="sc">-</span>kotov<span class="sc">/</span>mapineqr},</span>
<span id="cb25-6"><a href="#cb25-6" tabindex="-1"></a>  doi <span class="ot">=</span> {<span class="fl">10.32614</span><span class="sc">/</span>CRAN.package.mapineqr},</span>
<span id="cb25-7"><a href="#cb25-7" tabindex="-1"></a>}</span>
<span id="cb25-8"><a href="#cb25-8" tabindex="-1"></a></span>
<span id="cb25-9"><a href="#cb25-9" tabindex="-1"></a><span class="sc">@</span>Misc{mapineq_link,</span>
<span id="cb25-10"><a href="#cb25-10" tabindex="-1"></a>  title <span class="ot">=</span> {Mapineq Link<span class="sc">:</span> Geospatial Dashboard and Database},</span>
<span id="cb25-11"><a href="#cb25-11" tabindex="-1"></a>  author <span class="ot">=</span> {Melinda C Mills and Douglas Leasure},</span>
<span id="cb25-12"><a href="#cb25-12" tabindex="-1"></a>  year <span class="ot">=</span> {<span class="dv">2024</span>},</span>
<span id="cb25-13"><a href="#cb25-13" tabindex="-1"></a>  month <span class="ot">=</span> {October},</span>
<span id="cb25-14"><a href="#cb25-14" tabindex="-1"></a>  publisher <span class="ot">=</span> {Mapineq deliverables. Turku<span class="sc">:</span> INVEST Research Flagship Centre <span class="sc">/</span> University of Turku},</span>
<span id="cb25-15"><a href="#cb25-15" tabindex="-1"></a>  doi <span class="ot">=</span> {<span class="fl">10.5281</span><span class="sc">/</span>zenodo<span class="fl">.13864000</span>},</span>
<span id="cb25-16"><a href="#cb25-16" tabindex="-1"></a>}</span></code></pre></div>
</div>
</div>

  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing mapineqr</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Egor Kotov <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0001-6690-5345" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a></li>
<li><a href="https://github.com/e-kotov/mapineqr/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/e-kotov/mapineqr/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://CRAN.R-project.org/package=mapineqr" class="external-link"><img src="https://www.r-pkg.org/badges/version/mapineqr.png" alt="CRAN status"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Egor Kotov.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
